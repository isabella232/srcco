<!DOCTYPE html>
<html>
  <head>
    <title>srcco.go</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="srcco.css">
    <script src="srcco.js"></script>
  </head>
  <body>
    <div class="tocs">
      <div id="files" class="toc-name">
        files
      </div>
      <div id="defs" class="toc-name">
        defs
      </div>
      <div id="files-toc" class="toc">
        <div class="node" level=0><div class="node-title"><i class="fa fa-angle-right carrot"></i> all files</div>
<div class="node-body"><div class="node-path"><a class="file" href="bindata.go.html">bindata.go</a></div><div class="node-path"><a class="file" href="srcco.go.html">srcco.go</a></div></div></div>
      </div>
      <div id="defs-toc" class="toc">
        <div class="node" level=0><div class="node-title"><i class="fa fa-angle-right carrot"></i> all defs</div>
<div class="node-body"><div class="node" level=1><div class="node-title"><i class="fa fa-angle-right carrot"></i> srcco</div>
<div class="node-body"><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> HTMLOutput - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/FileTableOfContents">FileTableOfContents</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/ResourcePrefix">ResourcePrefix</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/Segments">Segments</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/StructuredTableOfContents">StructuredTableOfContents</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/Title">Title</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> ann - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/found">found</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/r">r</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/start">start</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco2</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node" level=6><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/$srcco0/href">href</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/$srcco0/id">id</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/d">d</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/ok">ok</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/found">found</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco3</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/$srcco0/a">a</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/d">d</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/annotations">annotations</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/defs">defs</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/err">err</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/filename">filename</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAt">refAt</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex">refAtIndex</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refs">refs</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/src">src</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> annotations - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Len - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Len"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Len/a">a</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Less - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a">a</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/j">j</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Swap - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/a">a</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/j">j</a> - var</div></div></div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> command - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/argv">argv</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/cmd">cmd</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stderr">stderr</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stdout">stdout</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> copyBytes - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/b">b</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/err">err</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/file">file</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/w">w</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> createSegments - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco4</div>
<div class="node-body"><div class="node" level=6><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=7><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco4/$srcco0/$srcco0/j">j</a> - var</div></div></div></div></div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco5</div>
<div class="node-body"><div class="node" level=6><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</a> - var</div></div></div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/addSegment">addSegment</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/lineComment">lineComment</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/segments">segments</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> createTableOfContents - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco2</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parent">parent</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parts">parts</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco3</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=6><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=7><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/$srcco1/n">n</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/parent">parent</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/path">path</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/name">name</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/parts">parts</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/pather">pather</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco4</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=6><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/$srcco0/p">p</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/n">n</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/ok">ok</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node" level=6><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/n">n</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/ok">ok</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/i">i</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/parts">parts</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/pather">pather</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco5</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco5/p">p</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco6</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/d">d</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/p">p</a> - var</div></div></div></div></div><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/f">f</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/p">p</a> - var</div></div></div></div></div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco7</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco7/n">n</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco8</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/$srcco0/template">template</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/pather">pather</a> - var</div></div></div><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco1/c">c</a> - var</div></div></div><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco2</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco2/p">p</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/body">body</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/n">n</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/title">title</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/getParent">getParent</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeLevel">nodeLevel</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeToHTML">nodeToHTML</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/patherToHTML">patherToHTML</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/pathers">pathers</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> def - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> path - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/path"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/path/d">d</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/DefEnd">DefEnd</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/DefStart">DefStart</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/File">File</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/Kind">Kind</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/Name">Name</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/TreePath">TreePath</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/defKey">defKey</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> defKey - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Path">Path</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Unit">Unit</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> defs - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Len - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Len"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Len/d">d</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Less - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/d">d</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/j">j</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Swap - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/d">d</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/j">j</a> - var</div></div></div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> defsTOCFilter - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/$srcco0/d">d</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/defs">defs</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/f">f</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/m">m</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> defsWrapPathers - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/$srcco0/d">d</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/defs">defs</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/ps">ps</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> doc - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Data">Data</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/End">End</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Format">Format</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> docs - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Len - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Len"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Len/d">d</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Less - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d">d</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/j">j</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Swap - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/d">d</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/j">j</a> - var</div></div></div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> ensureSrclibExists - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/$srcco0/err">err</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/cmd">cmd</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stderr">stderr</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stdout">stdout</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> execute - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco0/err">err</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/d">d</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/err">err</a> - var</div></div></div><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/d">d</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/err">err</a> - var</div></div></div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco2</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco2/err">err</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco4</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco4/err">err</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco5</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco5/u">u</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco7</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco0/err">err</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco1/err">err</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco2</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco2/err">err</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/argv">argv</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/cmd">cmd</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/out">out</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stderr">stderr</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stdout">stdout</a> - var</div></div></div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/argv">argv</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/cmd">cmd</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/noFiles">noFiles</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stderr">stderr</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stdout">stdout</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/us">us</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> failedCmd - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Error - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/Error"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/Error/f">f</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/cmd">cmd</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/err">err</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> file - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> path - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file/path"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file/path/f">f</a> - var</div></div></div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> filesWrapPathers - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/$srcco0/f">f</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/files">files</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/ps">ps</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> genDocs - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco0/err">err</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco0/err">err</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco1/err">err</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco2</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco2/d">d</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> out - var <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out/Defs">Defs</a> - field</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/argv">argv</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/cmd">cmd</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stderr">stderr</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stdout">stdout</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/f">f</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco2</div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco1/err">err</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco2</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco2/err">err</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco3</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d">d</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco5</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco5/err">err</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco8</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco8/err">err</a> - var</div></div></div><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> out - var <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Docs">Docs</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Refs">Refs</a> - field</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/anns">anns</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/argv">argv</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/cmd">cmd</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlDocs">htmlDocs</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlFile">htmlFile</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/s">s</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/seenHTMLDoc">seenHTMLDoc</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/src">src</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stderr">stderr</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stdout">stdout</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/w">w</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco3</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco3/err">err</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco4</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco4/err">err</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/defsMap">defsMap</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/fileTOC">fileTOC</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/files">files</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/root">root</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/siteName">siteName</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/structuredTOCs">structuredTOCs</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> htmlAnnotator - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Annotate - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/a">a</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/class">class</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/kind">kind</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/start">start</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/tokText">tokText</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> class - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/kind">kind</a> - var</div></div></div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> htmlFilename - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename/filename">filename</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> init$srcco15222 - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> main - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco1</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/$srcco1/err">err</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/args">args</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> pather - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather/path">path</a> - func</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> ref - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefPath">DefPath</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefRepo">DefRepo</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnit">DefUnit</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnitType">DefUnitType</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/File">File</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/Start">Start</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> refs - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Len - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Len"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Len/r">r</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Less - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/j">j</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/r">r</a> - var</div></div></div><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> Swap - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/i">i</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/j">j</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/r">r</a> - var</div></div></div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> resourcePrefix - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/$srcco0/i">i</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/count">count</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/file">file</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/prefix">prefix</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> segment - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/CodeHTML">CodeHTML</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/DocHTML">DocHTML</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> tocNode - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/data">data</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/name">name</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/nodes">nodes</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/pathers">pathers</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> unit - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/unit"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/unit/Files">Files</a> - field</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> units - type <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=3><div class="node-title"><i class="fa fa-angle-right carrot"></i> collateFiles - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node" level=4><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=5><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node" level=6><div class="node-title"><i class="fa fa-angle-right carrot"></i> $srcco0</div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/$srcco0/$srcco0/$srcco0/f">f</a> - var</div></div></div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/$srcco0/u">u</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/fs">fs</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/us">us</a> - var</div></div></div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> vLog - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog/v">v</a> - var</div></div></div><div class="node" level=2><div class="node-title"><i class="fa fa-angle-right carrot"></i> vLogf - func <a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf"><i class="fa fa-share-square-o"></i></a></div>
<div class="node-body"><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf/format">format</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf/v">v</a> - var</div></div></div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/codeTemplate">codeTemplate</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/cssData">cssData</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/enableSourcegraphLinksOpt">enableSourcegraphLinksOpt</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco12829">end</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco12968">end</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco13068">end</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ghPagesScript">ghPagesScript</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/gitHubPagesOpt">gitHubPagesOpt</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco1974">init</a> - func</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/jsData">jsData</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/outDirOpt">outDirOpt</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco12822">start</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco12961">start</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco13061">start</a> - field</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogger">vLogger</a> - var</div><div class="node-path"><a class="def" href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/verboseOpt">verboseOpt</a> - var</div></div></div></div></div>
      </div>
    </div>
    <div class="grid">
      
      <div class="row">
        <div class="doc"><p>
srcco (pronounced &#34;source-co&#34;) is a literate-programming-style
documentation generator that links up source code so you can jump
to the definition of any function, type, or variable.
</p>
<p>
Built on top of srclib (<a href="https://srclib.org">https://srclib.org</a>).
</p>
<p>
Inspired by Docco (<a href="http://jashkenas.github.io/docco/">http://jashkenas.github.io/docco/</a>), Groc
(<a href="http://nevir.github.io/groc/">http://nevir.github.io/groc/</a>), and Gocco
(<a href="http://nikhilm.github.io/gocco/">http://nikhilm.github.io/gocco/</a>).
</p>
<p>
Installation:
</p>
<pre>$ go get sourcegraph.com/sourcegraph/srcco
</pre>
<p>
And install srclib:
</p>
<pre>$ go get sourcegraph.com/sourcegraph/srclib/cmd/src
# This will only pull down the Go toolchain.
$ src toolchain install-std --skip-ruby --skip-javascript --skip-python
</pre>
<p>
Then call srcco like this in the directory you want to build:
</p>
<pre>$ srcco .
</pre>
<p>
If you want to host your docs on GitHub Pages, run:
</p>
<pre>$ srcco -github-pages=true .

Usage: srcco [FLAGS] DIR

Generate documentation for the project at DIR.

  -enable-sourcegraph=false: generate links to Sourcegraph.com for references to external (out of repo) definitions
  -github-pages=false: create docs in gh-pages branch
  -out=&#34;docs&#34;: the directory name for the output files
  -v=false: show verbose output
</pre>
<p>
I extended the Go srclib toolchain
(<a href="https://sourcegraph.com/sourcegraph/srclib-go">https://sourcegraph.com/sourcegraph/srclib-go</a>) to add start and end ranges
to comments. None of the other toolchains output this information
currently, but it shouldn&#39;t be that hard to add.
</p>
<p>
Languages that will be supported soon: (if you&#39;re interested in
hacking on a srclib toolchain, get in touch with the author of
srcco and I can help you get spun up)
</p>
<p>
- Python
</p>
<p>
- Ruby
</p>
<p>
- JavaScript
</p>
<p>
- Java
</p>
<p>
Patches welcome!
</p>
</div>
        <div class="code"><span class="kwd">package</span> <span class="pln">main</span>

<span class="kwd">import</span> <span class="pun">(</span>
	<span class="str">&#34;bytes&#34;</span>
	<span class="str">&#34;encoding/json&#34;</span>
	<span class="str">&#34;flag&#34;</span>
	<span class="str">&#34;fmt&#34;</span>
	<span class="str">&#34;io&#34;</span>
	<span class="str">&#34;io/ioutil&#34;</span>
	<span class="str">&#34;log&#34;</span>
	<span class="str">&#34;os&#34;</span>
	<span class="str">&#34;os/exec&#34;</span>
	<span class="str">&#34;path&#34;</span>
	<span class="str">&#34;path/filepath&#34;</span>
	<span class="str">&#34;sort&#34;</span>
	<span class="str">&#34;strings&#34;</span>
	<span class="str">&#34;text/template&#34;</span>

	<span class="str">&#34;github.com/sourcegraph/annotate&#34;</span>
	<span class="str">&#34;github.com/sourcegraph/syntaxhighlight&#34;</span>
<span class="pun">)</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco1974"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco1974">init</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="pln">flag</span><span class="pun">.</span><span class="typ">BoolVar</span><span class="pun">(</span><span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/verboseOpt">verboseOpt</span></a><span class="pun">,</span> <span class="str">&#34;v&#34;</span><span class="pun">,</span> <span class="kwd">false</span><span class="pun">,</span> <span class="str">&#34;show verbose output&#34;</span><span class="pun">)</span>
	<span class="pln">flag</span><span class="pun">.</span><span class="typ">StringVar</span><span class="pun">(</span><span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/outDirOpt">outDirOpt</span></a><span class="pun">,</span> <span class="str">&#34;out&#34;</span><span class="pun">,</span> <span class="str">&#34;docs&#34;</span><span class="pun">,</span> <span class="str">&#34;the directory name for the output files&#34;</span><span class="pun">)</span>
	<span class="pln">flag</span><span class="pun">.</span><span class="typ">BoolVar</span><span class="pun">(</span><span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/gitHubPagesOpt">gitHubPagesOpt</span></a><span class="pun">,</span> <span class="str">&#34;github-pages&#34;</span><span class="pun">,</span> <span class="kwd">false</span><span class="pun">,</span> <span class="str">&#34;create docs in gh-pages branch and push to GitHub&#34;</span><span class="pun">)</span>
	<span class="pln">flag</span><span class="pun">.</span><span class="typ">BoolVar</span><span class="pun">(</span><span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/enableSourcegraphLinksOpt">enableSourcegraphLinksOpt</span></a><span class="pun">,</span> <span class="str">&#34;enable-sourcegraph&#34;</span><span class="pun">,</span> <span class="kwd">false</span><span class="pun">,</span> <span class="str">&#34;generate links to Sourcegraph.com for references to external (out of repo) definitions&#34;</span><span class="pun">)</span>
	<span class="pln">flag</span><span class="pun">.</span><span class="typ">Usage</span> <span class="pun">=</span> <span class="kwd">func</span><span class="pun">(</span><span class="pun">)</span> <span class="pun">{</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;Usage: srcco [FLAGS] DIR\n&#34;</span><span class="pun">)</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;Generate documentation for the project at DIR.\n&#34;</span><span class="pun">)</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;For more information, see:\n&#34;</span><span class="pun">)</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;\tsourcegraph.github.io/srcco\n&#34;</span><span class="pun">)</span>
		<span class="pln">flag</span><span class="pun">.</span><span class="typ">PrintDefaults</span><span class="pun">(</span><span class="pun">)</span>
		<span class="pln">os</span><span class="pun">.</span><span class="typ">Exit</span><span class="pun">(</span><span class="dec">2</span><span class="pun">)</span>
	<span class="pun">}</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We define our option flags here.
</p>
</div>
        <div class="code"><span class="kwd">var</span> <span class="pun">(</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
verboseOpt tells srcco to print out debugging logs.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/verboseOpt"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/verboseOpt">verboseOpt</span></a> <span class="kwd">bool</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
outDirOpt is the output directory for the generated
documentation.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/outDirOpt"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/outDirOpt">outDirOpt</span></a> <span class="pln">string</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
gitHubPagesOpt tells srcco to generate the docs in the
repository&#39;s &#34;gh-pages&#34; branch and push it to GitHub. If
gitHubPagesOpt is true, outDirOpt is ignored.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/gitHubPagesOpt"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/gitHubPagesOpt">gitHubPagesOpt</span></a> <span class="kwd">bool</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
enableSourcegraphLinksOpt tells srcco to generate links to
Sourcegraph.com for references to external (out of repo)
definitions.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/enableSourcegraphLinksOpt"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/enableSourcegraphLinksOpt">enableSourcegraphLinksOpt</span></a> <span class="kwd">bool</span>
<span class="pun">)</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
The vLogger is used for verbose logging.
</p>
</div>
        <div class="code"><span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/vLogger"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogger">vLogger</span></a> <span class="pun">=</span> <span class="pln">log</span><span class="pun">.</span><span class="typ">New</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;&#34;</span><span class="pun">,</span> <span class="dec">0</span><span class="pun">)</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf">vLogf</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf/format"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf/format">format</span></a> <span class="pln">string</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf/v"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf/v">v</span></a> <span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="kwd">if</span> <span class="pun">!</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/verboseOpt">verboseOpt</span></a> <span class="pun">{</span>
		<span class="kwd">return</span>
	<span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogger">vLogger</span></a><span class="pun">.</span><span class="typ">Printf</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf/format">format</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf/v">v</span></a><span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="pun">)</span>
<span class="pun">}</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/vLog"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog">vLog</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/vLog/v"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog/v">v</span></a> <span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="kwd">if</span> <span class="pun">!</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/verboseOpt">verboseOpt</span></a> <span class="pun">{</span>
		<span class="kwd">return</span>
	<span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogger">vLogger</span></a><span class="pun">.</span><span class="typ">Println</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog/v">v</span></a><span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="pun">)</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Source units have lots of information associated with them, but we
only care about the files.
</p>
</div>
        <div class="code"><span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/unit"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/unit">unit</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/unit/Files"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/unit/Files">Files</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/units"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units">units</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/unit">unit</span></a>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/$srcco0/$srcco0/$srcco0/f"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/$srcco0/u"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/us"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/us">us</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units">units</span></a><span class="pun">)</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles">collateFiles</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span> <span class="pun">{</span>
	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/fs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/fs">fs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/$srcco0/u">u</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/us">us</span></a> <span class="pun">{</span>
		<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/$srcco0/$srcco0/$srcco0/f">f</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/$srcco0/u">u</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/unit/Files">Files</span></a> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/fs">fs</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/fs">fs</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/$srcco0/$srcco0/$srcco0/f">f</span></a><span class="pun">)</span>
		<span class="pun">}</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles/fs">fs</span></a>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
failedCmd is an error type for failed shell commands.
</p>
</div>
        <div class="code"><span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd">failedCmd</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/cmd"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/cmd">cmd</span></a> <span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/err">err</span></a> <span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span>
<span class="pun">}</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/Error"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/Error/f"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/Error/f">f</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd">failedCmd</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/Error">Error</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
	<span class="kwd">return</span> <span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="str">&#34;command %v failed: %s&#34;</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/Error/f">f</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/cmd">cmd</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/Error/f">f</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd/err">err</span></a><span class="pun">)</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
ensureSrclibExists is a hack to make sure that &#34;src&#34; is accessible
from the PATH.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists">ensureSrclibExists</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pln">error</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/cmd"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/cmd">cmd</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">exec</span><span class="pun">.</span><span class="typ">Command</span><span class="pun">(</span><span class="str">&#34;src&#34;</span><span class="pun">,</span> <span class="str">&#34;version&#34;</span><span class="pun">)</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stderr"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stdout"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stderr">stderr</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pun">&amp;</span><span class="pln">bytes</span><span class="pun">.</span><span class="typ">Buffer</span><span class="pun">{</span><span class="pun">}</span><span class="pun">,</span> <span class="pun">&amp;</span><span class="pln">bytes</span><span class="pun">.</span><span class="typ">Buffer</span><span class="pun">{</span><span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Stdout</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Stderr</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stderr">stderr</span></a>
	<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/$srcco0/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Run</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="kwd">return</span> <span class="pln">fmt</span><span class="pun">.</span><span class="typ">Errorf</span><span class="pun">(</span>
			<span class="str">&#34;error with srclib: %v, %s, %s&#34;</span><span class="pun">,</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/$srcco0/err">err</span></a><span class="pun">,</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stdout">stdout</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists/stderr">stderr</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span>
		<span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="kwd">nil</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
command takes a set of command line arguments and returns the cmd
object, stdout, and stderr for that command.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/command"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command">command</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/command/argv"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/argv">argv</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">)</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/command/cmd"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/cmd">cmd</span></a> <span class="pun">*</span><span class="kwd">exec</span><span class="pun">.</span><span class="typ">Cmd</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/command/stdout"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stdout">stdout</span></a> <span class="pun">*</span><span class="pln">bytes</span><span class="pun">.</span><span class="typ">Buffer</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/command/stderr"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stderr">stderr</span></a> <span class="pun">*</span><span class="pln">bytes</span><span class="pun">.</span><span class="typ">Buffer</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="kwd">if</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/argv">argv</span></a><span class="pun">)</span> <span class="pun">=</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
		<span class="pln">panic</span><span class="pun">(</span><span class="str">&#34;command: argv must have at least one item&#34;</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/cmd">cmd</span></a> <span class="pun">=</span> <span class="kwd">exec</span><span class="pun">.</span><span class="typ">Command</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/argv">argv</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/argv">argv</span></a><span class="pun">[</span><span class="dec">1</span><span class="pun">:</span><span class="pun">]</span><span class="pun">.</span><span class="pun">.</span><span class="pun">.</span><span class="pun">)</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stderr">stderr</span></a> <span class="pun">=</span> <span class="pun">&amp;</span><span class="pln">bytes</span><span class="pun">.</span><span class="typ">Buffer</span><span class="pun">{</span><span class="pun">}</span><span class="pun">,</span> <span class="pun">&amp;</span><span class="pln">bytes</span><span class="pun">.</span><span class="typ">Buffer</span><span class="pun">{</span><span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Stdout</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Stderr</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stderr">stderr</span></a>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/cmd">cmd</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command/stderr">stderr</span></a>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
execute is the function that does all of the work. It takes the
project directory as dir. If dir is the empty string, then the
current working directory is used.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco5/u"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute">execute</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a> <span class="pln">string</span><span class="pun">)</span> <span class="pln">error</span> <span class="pun">{</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
First, we check to make sure that srclib exists.
</p>
</div>
        <div class="code">	<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco0/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ensureSrclibExists">ensureSrclibExists</span></a><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco0/err">err</span></a><span class="pun">)</span>
	<span class="pun">}</span>

	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We need to get a list of all of the files that we want to
generate. First, we need to turn dir into an absolute path.
</p>
</div>
        <div class="code">	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="str">&#34;&#34;</span> <span class="pun">{</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/d"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/d">d</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">os</span><span class="pun">.</span><span class="typ">Getwd</span><span class="pun">(</span><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/err">err</span></a><span class="pun">)</span>
		<span class="pun">}</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco0/d">d</span></a>
	<span class="pun">}</span> <span class="kwd">else</span> <span class="pun">{</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/d"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/d">d</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Abs</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/err">err</span></a><span class="pun">)</span>
		<span class="pun">}</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco1/$srcco1/d">d</span></a>
	<span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We could import sourcegraph.com/sourcegraph/srclib/src and
call src.APIUnitsCmd.Execute, but I want to demonstrate how
to use src&#39;s command line interface. Plus, the user needs
to set up srclib with their toolchains after installing it,
so it might confuse them if go get&#39;ing srcco also
downloaded srclib&#39;s repo.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/argv"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/argv">argv</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">{</span><span class="str">&#34;src&#34;</span><span class="pun">,</span> <span class="str">&#34;api&#34;</span><span class="pun">,</span> <span class="str">&#34;units&#34;</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a><span class="pun">}</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stderr"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/cmd"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stdout"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/cmd">cmd</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stderr">stderr</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command">command</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/argv">argv</span></a><span class="pun">)</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf">vLogf</span></a><span class="pun">(</span><span class="str">&#34;Running %v&#34;</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/argv">argv</span></a><span class="pun">)</span>
	<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco2/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco2/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Run</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco2/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd">failedCmd</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/argv">argv</span></a><span class="pun">,</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco2/err">err</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stdout">stdout</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stderr">stderr</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">}</span><span class="pun">}</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stdout">stdout</span></a><span class="pun">.</span><span class="typ">Len</span><span class="pun">(</span><span class="pun">)</span> <span class="pun">=</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd">failedCmd</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/argv">argv</span></a><span class="pun">,</span> <span class="str">&#34;no output&#34;</span><span class="pun">}</span><span class="pun">)</span>
	<span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Get all of the file names associated with this project.
</p>
</div>
        <div class="code">	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/us"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/us">us</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units">units</span></a>
	<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco4/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco4/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">json</span><span class="pun">.</span><span class="typ">Unmarshal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/stdout">stdout</span></a><span class="pun">.</span><span class="typ">Bytes</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/us">us</span></a><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco4/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco4/err">err</span></a><span class="pun">)</span>
	<span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
If we haven&#39;t found any files, that means the user probably
hasn&#39;t installed any srclib language toolchains.
Short-circuit here if that&#39;s the case.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/noFiles"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/noFiles">noFiles</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">true</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco5/u">u</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/us">us</span></a> <span class="pun">{</span>
		<span class="kwd">if</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco5/u">u</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/unit/Files">Files</span></a><span class="pun">)</span> <span class="pun">!</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/noFiles">noFiles</span></a> <span class="pun">=</span> <span class="kwd">false</span>
			<span class="kwd">break</span>
		<span class="pun">}</span>
	<span class="pun">}</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/noFiles">noFiles</span></a> <span class="pun">{</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;srclib could not find any files for this project.\n&#34;</span><span class="pun">)</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;Have you installed any language toolchains?\n&#34;</span><span class="pun">)</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;If not, run &#39;src toolchain install-std&#39;.\n&#34;</span><span class="pun">)</span>
		<span class="pln">os</span><span class="pun">.</span><span class="typ">Exit</span><span class="pun">(</span><span class="dec">1</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/gitHubPagesOpt">gitHubPagesOpt</span></a> <span class="pun">{</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/out"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/out">out</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="str">&#34;.git/srcco-tmp&#34;</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco0/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs">genDocs</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/out">out</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/us">us</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles">collateFiles</span></a><span class="pun">(</span><span class="pun">)</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco0/err">err</span></a>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We need to remove all srclib build data from the
project directory in order to add the correct files
in our gh-pages script (in &#34;data/publish-gh-pages.sh&#34;).
</p>
</div>
        <div class="code">		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/argv"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/argv">argv</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">{</span><span class="str">&#34;src&#34;</span><span class="pun">,</span> <span class="str">&#34;build-data&#34;</span><span class="pun">,</span> <span class="str">&#34;rm&#34;</span><span class="pun">,</span> <span class="str">&#34;--all&#34;</span><span class="pun">,</span> <span class="str">&#34;--local&#34;</span><span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stdout"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/cmd"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stderr"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/cmd">cmd</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stderr">stderr</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command">command</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/argv">argv</span></a><span class="pun">)</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Dir</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco1/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco1/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Run</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco1/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd">failedCmd</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/argv">argv</span></a><span class="pun">,</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco1/err">err</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stdout">stdout</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stderr">stderr</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">}</span><span class="pun">}</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We pipe the gh-pages script into bash. Bash&#39;s &#34;-s&#34;
option tells it to read from stdin.
</p>
</div>
        <div class="code">		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/argv">argv</span></a> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">{</span><span class="str">&#34;bash&#34;</span><span class="pun">,</span> <span class="str">&#34;-s&#34;</span><span class="pun">}</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/cmd">cmd</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stderr">stderr</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command">command</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/argv">argv</span></a><span class="pun">)</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Stdin</span> <span class="pun">=</span> <span class="pln">bytes</span><span class="pun">.</span><span class="typ">NewReader</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ghPagesScript">ghPagesScript</span></a><span class="pun">)</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco2/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco2/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Run</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco2/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd">failedCmd</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/argv">argv</span></a><span class="pun">,</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/$srcco2/err">err</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stdout">stdout</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/$srcco7/$srcco0/stderr">stderr</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">}</span><span class="pun">}</span>
		<span class="pun">}</span>
		<span class="kwd">return</span> <span class="kwd">nil</span>
	<span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
If we aren&#39;t generating a gh-pages site, generate the docs normally.
</p>
</div>
        <div class="code">	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs">genDocs</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/dir">dir</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/outDirOpt">outDirOpt</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute/us">us</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/units/collateFiles">collateFiles</span></a><span class="pun">(</span><span class="pun">)</span><span class="pun">)</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
doc represents a comment. srclib also gives us the definition a
comment is attached to, but we don&#39;t care about that.
</p>
</div>
        <div class="code"><span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/doc"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc">doc</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Format"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Format">Format</span></a> <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Data"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Data">Data</span></a>   <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a>  <span class="pln">uint32</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/doc/End"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/End">End</span></a>    <span class="pln">uint32</span>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs">docs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc">doc</span></a>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Len"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Len/d"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Len/d">d</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs">docs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Len">Len</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">int</span>      <span class="pun">{</span> <span class="kwd">return</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Len/d">d</span></a><span class="pun">)</span> <span class="pun">}</span>
<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/d"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/d">d</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs">docs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap">Swap</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/j"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/i"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/j">j</span></a> <span class="kwd">int</span><span class="pun">)</span> <span class="pun">{</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/i">i</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/j">j</span></a><span class="pun">]</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/j">j</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Swap/i">i</span></a><span class="pun">]</span> <span class="pun">}</span>
<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d">d</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs">docs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less">Less</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/i"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/j"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/j">j</span></a> <span class="kwd">int</span><span class="pun">)</span> <span class="kwd">bool</span> <span class="pun">{</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/i">i</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/j">j</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a> <span class="pun">|</span><span class="pun">|</span> <span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/i">i</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/j">j</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a> <span class="pun">&amp;</span><span class="pun">&amp;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/i">i</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/End">End</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs/Less/j">j</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/End">End</span></a><span class="pun">)</span>
<span class="pun">}</span>

<span class="kwd">var</span> <span class="pln">_</span> <span class="pln">sort</span><span class="pun">.</span><span class="typ">Interface</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs">docs</span></a><span class="pun">{</span><span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
A ref represents a reference to a definition. A definition is also a
reference, it is a reference to itself. We can identify a ref&#39;s
definition by joining DefUnit and DefPath.
</p>
</div>
        <div class="code"><span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ref"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref">ref</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefRepo"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefRepo">DefRepo</span></a>     <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnitType"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnitType">DefUnitType</span></a> <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnit"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnit">DefUnit</span></a>     <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefPath"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefPath">DefPath</span></a>     <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ref/File"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/File">File</span></a>        <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ref/Start"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/Start">Start</span></a>       <span class="pln">uint32</span>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs">refs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref">ref</span></a>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Len"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Len/r"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Len/r">r</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs">refs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Len">Len</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">int</span>           <span class="pun">{</span> <span class="kwd">return</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Len/r">r</span></a><span class="pun">)</span> <span class="pun">}</span>
<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/r"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/r">r</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs">refs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap">Swap</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/i"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/j"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/j">j</span></a> <span class="kwd">int</span><span class="pun">)</span>      <span class="pun">{</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/r">r</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/i">i</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/r">r</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/j">j</span></a><span class="pun">]</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/r">r</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/j">j</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/r">r</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Swap/i">i</span></a><span class="pun">]</span> <span class="pun">}</span>
<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/r"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/r">r</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs">refs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less">Less</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/i"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/j"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/j">j</span></a> <span class="kwd">int</span><span class="pun">)</span> <span class="kwd">bool</span> <span class="pun">{</span> <span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/r">r</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/i">i</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/Start">Start</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/r">r</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs/Less/j">j</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/Start">Start</span></a> <span class="pun">}</span>

<span class="kwd">var</span> <span class="pln">_</span> <span class="pln">sort</span><span class="pun">.</span><span class="typ">Interface</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs">refs</span></a><span class="pun">{</span><span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
A def is a definition, and it includes things like functions,
variables, and types.
</p>
</div>
        <div class="code"><span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def"></span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/defKey"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey">defKey</span></a>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/Name"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/Name">Name</span></a>     <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/Kind"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/Kind">Kind</span></a>     <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/File"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/File">File</span></a>     <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/DefStart"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/DefStart">DefStart</span></a> <span class="pln">uint32</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/DefEnd"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/DefEnd">DefEnd</span></a>   <span class="pln">uint32</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We only care about TreePath to create a structured table of
contents.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/TreePath"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/TreePath">TreePath</span></a> <span class="pln">string</span>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defKey"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey">defKey</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Unit"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Unit">Unit</span></a> <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Path"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Path">Path</span></a> <span class="pln">string</span>
<span class="pun">}</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/path"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/def/path/d"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/path/d">d</span></a> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">)</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/path">path</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/path/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/TreePath">TreePath</span></a>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs">defs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Len"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Len/d"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Len/d">d</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs">defs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Len">Len</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">int</span>           <span class="pun">{</span> <span class="kwd">return</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Len/d">d</span></a><span class="pun">)</span> <span class="pun">}</span>
<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/d"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/d">d</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs">defs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap">Swap</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/i"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/j"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/j">j</span></a> <span class="kwd">int</span><span class="pun">)</span>      <span class="pun">{</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/i">i</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/j">j</span></a><span class="pun">]</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/j">j</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Swap/i">i</span></a><span class="pun">]</span> <span class="pun">}</span>
<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/d"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/d">d</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs">defs</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less">Less</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/i"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/j"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/j">j</span></a> <span class="kwd">int</span><span class="pun">)</span> <span class="kwd">bool</span> <span class="pun">{</span> <span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/i">i</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/TreePath">TreePath</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/d">d</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs/Less/j">j</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/TreePath">TreePath</span></a> <span class="pun">}</span>

<span class="kwd">var</span> <span class="pln">_</span> <span class="pln">sort</span><span class="pun">.</span><span class="typ">Interface</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs">defs</span></a><span class="pun">{</span><span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
genDocs generates a set of docs for the project at root for the
code in files, and it outputs the docs in the directory siteName
(which must be relative to root).
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/f"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco2/d"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs">genDocs</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/siteName"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/root"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/root">root</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/siteName">siteName</span></a> <span class="pln">string</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/files"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/files">files</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">)</span> <span class="pln">error</span> <span class="pun">{</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog">vLog</span></a><span class="pun">(</span><span class="str">&#34;Generating Docs&#34;</span><span class="pun">)</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/root">root</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/siteName">siteName</span></a><span class="pun">)</span>
	<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco0/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">os</span><span class="pun">.</span><span class="typ">MkdirAll</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</span></a><span class="pun">,</span> <span class="dec">0755</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco0/err">err</span></a><span class="pun">)</span>
	<span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
structuredTOCs is a map from file name to html-formatted
structured table of contents. This is created but ignored
for now (the ui is in the works! Contact the author of
srcco if you&#39;re interested in helping!)
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/structuredTOCs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/structuredTOCs">structuredTOCs</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">map</span><span class="pun">[</span><span class="pln">string</span><span class="pun">]</span><span class="pln">string</span><span class="pun">{</span><span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
defsMap is a map from defKeys to defs. We use it to store
all of the defs that exist in this project so we can
quickly look them up. Ideally, we would use &#34;src api
describe&#34;, but that call is too slow right now because it
doesn&#39;t hit the new, faster srclib backend... yet :)
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/defsMap"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/defsMap">defsMap</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">map</span><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey">defKey</span></a><span class="pun">]</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">{</span><span class="pun">}</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/f">f</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/files">files</span></a> <span class="pun">{</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Grab all the defs.
</p>
</div>
        <div class="code">		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/argv"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/argv">argv</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">{</span><span class="str">&#34;src&#34;</span><span class="pun">,</span> <span class="str">&#34;api&#34;</span><span class="pun">,</span> <span class="str">&#34;list&#34;</span><span class="pun">,</span> <span class="str">&#34;--file&#34;</span><span class="pun">,</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/root">root</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/f">f</span></a><span class="pun">)</span><span class="pun">,</span> <span class="str">&#34;--no-refs&#34;</span><span class="pun">,</span> <span class="str">&#34;--no-docs&#34;</span><span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stdout"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/cmd"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stderr"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/cmd">cmd</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stderr">stderr</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command">command</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/argv">argv</span></a><span class="pun">)</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog">vLog</span></a><span class="pun">(</span><span class="str">&#34;Running&#34;</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/argv">argv</span></a><span class="pun">)</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco0/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Run</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd">failedCmd</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/argv">argv</span></a><span class="pun">,</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco0/err">err</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stdout">stdout</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stderr">stderr</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">}</span><span class="pun">}</span>
		<span class="pun">}</span>
		<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out">out</span></a> <span class="kwd">struct</span><span class="pun">{</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out/Defs"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out/Defs">Defs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a> <span class="pun">}</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco1/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco1/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">json</span><span class="pun">.</span><span class="typ">Unmarshal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/stdout">stdout</span></a><span class="pun">.</span><span class="typ">Bytes</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out">out</span></a><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco1/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco1/err">err</span></a><span class="pun">)</span>
		<span class="pun">}</span>
		<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco2/d">d</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out">out</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out/Defs">Defs</span></a> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/defsMap">defsMap</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco2/d">d</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/defKey">defKey</span></a><span class="pun">]</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/$srcco2/d">d</span></a>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We create the table of contents for the defs here.
We wrap the defs in an interface that exposes their
TreePaths as Path(), so we can use
createTableOfContents on files too. See the
documentation on createTableOfContents for more
info.
</p>
</div>
        <div class="code">		<span class="pln">sort</span><span class="pun">.</span><span class="typ">Sort</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defs">defs</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out">out</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out/Defs">Defs</span></a><span class="pun">)</span><span class="pun">)</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/structuredTOCs">structuredTOCs</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/f">f</span></a><span class="pun">]</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents">createTableOfContents</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers">defsWrapPathers</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter">defsTOCFilter</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out">out</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco1/$srcco0/out/Defs">Defs</span></a><span class="pun">)</span><span class="pun">)</span><span class="pun">)</span>
	<span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
The files are wrapped as Pathers (which have the method
Path()) so that createTableOfContents can be used with defs
too. See the documentation on createTableOfContents for more info.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/fileTOC"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/fileTOC">fileTOC</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents">createTableOfContents</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers">filesWrapPathers</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/files">files</span></a><span class="pun">)</span><span class="pun">)</span>

	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Okay, this is where the real work gets done! We process the
refs for each file and generate the HTML for the code views
in this loop.
</p>
</div>
        <div class="code">	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/files">files</span></a> <span class="pun">{</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog">vLog</span></a><span class="pun">(</span><span class="str">&#34;Processing&#34;</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a><span class="pun">)</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/src"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/src">src</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">ioutil</span><span class="pun">.</span><span class="typ">ReadFile</span><span class="pun">(</span><span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/root">root</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a><span class="pun">)</span><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a>
		<span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/argv"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/argv">argv</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">{</span><span class="str">&#34;src&#34;</span><span class="pun">,</span> <span class="str">&#34;api&#34;</span><span class="pun">,</span> <span class="str">&#34;list&#34;</span><span class="pun">,</span> <span class="str">&#34;--file&#34;</span><span class="pun">,</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/root">root</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a><span class="pun">)</span><span class="pun">,</span> <span class="str">&#34;--no-defs&#34;</span><span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stderr"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/cmd"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stdout"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/cmd">cmd</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stdout">stdout</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stderr">stderr</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/command">command</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/argv">argv</span></a><span class="pun">)</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog">vLog</span></a><span class="pun">(</span><span class="str">&#34;Running&#34;</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/argv">argv</span></a><span class="pun">)</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco1/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco1/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/cmd">cmd</span></a><span class="pun">.</span><span class="typ">Run</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco1/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/failedCmd">failedCmd</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/argv">argv</span></a><span class="pun">,</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">interface</span><span class="pun">{</span><span class="pun">}</span><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco1/err">err</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stdout">stdout</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stderr">stderr</span></a><span class="pun">.</span><span class="typ">String</span><span class="pun">(</span><span class="pun">)</span><span class="pun">}</span><span class="pun">}</span>
		<span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out">out</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">struct</span> <span class="pun">{</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Refs"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Refs">Refs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref">ref</span></a>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Docs"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Docs">Docs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc">doc</span></a>
		<span class="pun">}</span><span class="pun">{</span><span class="pun">}</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco2/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco2/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">json</span><span class="pun">.</span><span class="typ">Unmarshal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/stdout">stdout</span></a><span class="pun">.</span><span class="typ">Bytes</span><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out">out</span></a><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco2/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco2/err">err</span></a><span class="pun">)</span>
		<span class="pun">}</span>

		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We filter out nonunique comments here, and comments
that don&#39;t have the format &#34;text/html&#34;. I fixed a
bug in the Go toolchain that was generating
overlapping comments, so that may not be needed.
We&#39;re adding more powerful API commands to take
advantage of the new srclib backend, and I want to
replace this logic with a srclib call when that&#39;s
done.
</p>
</div>
        <div class="code">		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/seenHTMLDoc"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/seenHTMLDoc">seenHTMLDoc</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">map</span><span class="pun">[</span><span class="kwd">struct</span><span class="pun">{</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco12822"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco12829"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco12822">start</span></a><span class="pun">,</span> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco12829">end</span></a> <span class="pln">uint32</span> <span class="pun">}</span><span class="pun">]</span><span class="kwd">bool</span><span class="pun">{</span><span class="pun">}</span>
		<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlDocs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlDocs">htmlDocs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc">doc</span></a>
		<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d">d</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out">out</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Docs">Docs</span></a> <span class="pun">{</span>
			<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Format">Format</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="str">&#34;text/html&#34;</span> <span class="pun">{</span>
				<span class="kwd">if</span> <span class="pun">!</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/seenHTMLDoc">seenHTMLDoc</span></a><span class="pun">[</span><span class="kwd">struct</span><span class="pun">{</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco12968"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco12961"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco12961">start</span></a><span class="pun">,</span> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco12968">end</span></a> <span class="pln">uint32</span> <span class="pun">}</span><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/End">End</span></a><span class="pun">}</span><span class="pun">]</span> <span class="pun">{</span>
					<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlDocs">htmlDocs</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlDocs">htmlDocs</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d">d</span></a><span class="pun">)</span>
					<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/seenHTMLDoc">seenHTMLDoc</span></a><span class="pun">[</span><span class="kwd">struct</span><span class="pun">{</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco13068"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco13061"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/start$srcco13061">start</span></a><span class="pun">,</span> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/end$srcco13068">end</span></a> <span class="pln">uint32</span> <span class="pun">}</span><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/End">End</span></a><span class="pun">}</span><span class="pun">]</span> <span class="pun">=</span> <span class="kwd">true</span>
				<span class="pun">}</span>
			<span class="pun">}</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We turn the refs into HTML annotations that can be
applied to the source code.
</p>
</div>
        <div class="code">		<span class="pln">sort</span><span class="pun">.</span><span class="typ">Sort</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/refs">refs</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out">out</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Refs">Refs</span></a><span class="pun">)</span><span class="pun">)</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/anns"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/anns">anns</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann">ann</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/src">src</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out">out</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/out/Refs">Refs</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/defsMap">defsMap</span></a><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a>
		<span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlFile"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlFile">htmlFile</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename">htmlFilename</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a><span class="pun">)</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf">vLogf</span></a><span class="pun">(</span><span class="str">&#34;Creating dir %s&#34;</span><span class="pun">,</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Dir</span><span class="pun">(</span><span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlFile">htmlFile</span></a><span class="pun">)</span><span class="pun">)</span><span class="pun">)</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco5/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco5/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">os</span><span class="pun">.</span><span class="typ">MkdirAll</span><span class="pun">(</span><span class="pln">filepath</span><span class="pun">.</span><span class="typ">Dir</span><span class="pun">(</span><span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlFile">htmlFile</span></a><span class="pun">)</span><span class="pun">)</span><span class="pun">,</span> <span class="dec">0755</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco5/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco5/err">err</span></a><span class="pun">)</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Sort everything *again* just to be sure!
</p>
</div>
        <div class="code">		<span class="pln">sort</span><span class="pun">.</span><span class="typ">Sort</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/docs">docs</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlDocs">htmlDocs</span></a><span class="pun">)</span><span class="pun">)</span>
		<span class="pln">sort</span><span class="pun">.</span><span class="typ">Sort</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations">annotations</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/anns">anns</span></a><span class="pun">)</span><span class="pun">)</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Now we create the segments, which have the type
&#34;segment&#34;. They are fed into the template.
</p>
</div>
        <div class="code">		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/s"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/s">s</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments">createSegments</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/src">src</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/anns">anns</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlDocs">htmlDocs</span></a><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a>
		<span class="pun">}</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLogf">vLogf</span></a><span class="pun">(</span><span class="str">&#34;Creating file %s&#34;</span><span class="pun">,</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlFile">htmlFile</span></a><span class="pun">)</span><span class="pun">)</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/w"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/w">w</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">os</span><span class="pun">.</span><span class="typ">Create</span><span class="pun">(</span><span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/htmlFile">htmlFile</span></a><span class="pun">)</span><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/err">err</span></a>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
After gathering all that data, we feed it into our template!
</p>
</div>
        <div class="code">		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco8/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco8/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/codeTemplate">codeTemplate</span></a><span class="pun">.</span><span class="typ">Execute</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/w">w</span></a><span class="pun">,</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput">HTMLOutput</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix">resourcePrefix</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a><span class="pun">)</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/fileTOC">fileTOC</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/structuredTOCs">structuredTOCs</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/f">f</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/s">s</span></a><span class="pun">}</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco8/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco2/$srcco0/$srcco8/err">err</span></a>
		<span class="pun">}</span>
	<span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We copy our resource files at the end.
</p>
</div>
        <div class="code">	<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco3/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco3/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes">copyBytes</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/cssData">cssData</span></a><span class="pun">,</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</span></a><span class="pun">,</span> <span class="str">&#34;srcco.css&#34;</span><span class="pun">)</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco3/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco3/err">err</span></a>
	<span class="pun">}</span>
	<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco4/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco4/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes">copyBytes</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/jsData">jsData</span></a><span class="pun">,</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/sitePath">sitePath</span></a><span class="pun">,</span> <span class="str">&#34;srcco.js&#34;</span><span class="pun">)</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco4/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/genDocs/$srcco4/err">err</span></a>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="kwd">nil</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
copyBytes is a helper function that copies b to file.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes">copyBytes</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/b"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/b">b</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/file"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/file">file</span></a> <span class="pln">string</span><span class="pun">)</span> <span class="pln">error</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/w"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/w">w</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">os</span><span class="pun">.</span><span class="typ">Create</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/file">file</span></a><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/err">err</span></a>
	<span class="pun">}</span>
	<span class="pln">defer</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/w">w</span></a><span class="pun">.</span><span class="typ">Close</span><span class="pun">(</span><span class="pun">)</span>

	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
do the actual work
</p>
</div>
        <div class="code">	<span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/err">err</span></a> <span class="pun">=</span> <span class="pln">io</span><span class="pun">.</span><span class="typ">Copy</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/w">w</span></a><span class="pun">,</span> <span class="pln">bytes</span><span class="pun">.</span><span class="typ">NewReader</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/b">b</span></a><span class="pun">)</span><span class="pun">)</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/copyBytes/err">err</span></a>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
HTMLOutput is fed into our code view template.
</p>
</div>
        <div class="code"><span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput">HTMLOutput</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/Title"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/Title">Title</span></a>                     <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/ResourcePrefix"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/ResourcePrefix">ResourcePrefix</span></a>            <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/FileTableOfContents"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/FileTableOfContents">FileTableOfContents</span></a>       <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/StructuredTableOfContents"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/StructuredTableOfContents">StructuredTableOfContents</span></a> <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/Segments"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/HTMLOutput/Segments">Segments</span></a>                  <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment">segment</span></a>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
These files are read from a really clever Go library, go-bindata,
that takes resource files and packs them into the binary to make
them easier to distribute.
</p>
</div>
        <div class="code"><span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/codeTemplate"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/codeTemplate">codeTemplate</span></a> <span class="pun">*</span><span class="kwd">template</span><span class="pun">.</span><span class="typ">Template</span>
<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/cssData"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/cssData">cssData</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span>
<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/jsData"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/jsData">jsData</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span>
<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ghPagesScript"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ghPagesScript">ghPagesScript</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222">init</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="typ"><a href="bindata.go.html#sourcegraph.com/sourcegraph/srcco/bindata.go/Asset">Asset</span></a><span class="pun">(</span><span class="str">&#34;data/view.html&#34;</span><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/codeTemplate">codeTemplate</span></a> <span class="pun">=</span> <span class="kwd">template</span><span class="pun">.</span><span class="typ">Must</span><span class="pun">(</span><span class="kwd">template</span><span class="pun">.</span><span class="typ">New</span><span class="pun">(</span><span class="str">&#34;view.html&#34;</span><span class="pun">)</span><span class="pun">.</span><span class="typ">Parse</span><span class="pun">(</span><span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</span></a><span class="pun">)</span><span class="pun">)</span><span class="pun">)</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a> <span class="pun">=</span> <span class="typ"><a href="bindata.go.html#sourcegraph.com/sourcegraph/srcco/bindata.go/Asset">Asset</span></a><span class="pun">(</span><span class="str">&#34;data/srcco.css&#34;</span><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/cssData">cssData</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</span></a>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a> <span class="pun">=</span> <span class="typ"><a href="bindata.go.html#sourcegraph.com/sourcegraph/srcco/bindata.go/Asset">Asset</span></a><span class="pun">(</span><span class="str">&#34;data/srcco.js&#34;</span><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/jsData">jsData</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</span></a>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a> <span class="pun">=</span> <span class="typ"><a href="bindata.go.html#sourcegraph.com/sourcegraph/srcco/bindata.go/Asset">Asset</span></a><span class="pun">(</span><span class="str">&#34;data/publish-gh-pages.sh&#34;</span><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/err">err</span></a><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ghPagesScript">ghPagesScript</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/init$srcco15222/r">r</span></a>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations">annotations</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln">annotate</span><span class="pun">.</span><span class="typ">Annotation</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Len"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Len/a"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Len/a">a</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations">annotations</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Len">Len</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">int</span>      <span class="pun">{</span> <span class="kwd">return</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Len/a">a</span></a><span class="pun">)</span> <span class="pun">}</span>
<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/a"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/a">a</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations">annotations</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap">Swap</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/j"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/i"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/j">j</span></a> <span class="kwd">int</span><span class="pun">)</span> <span class="pun">{</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/i">i</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/j">j</span></a><span class="pun">]</span> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/j">j</span></a><span class="pun">]</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Swap/i">i</span></a><span class="pun">]</span> <span class="pun">}</span>
<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a">a</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations">annotations</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less">Less</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/j"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/i"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/j">j</span></a> <span class="kwd">int</span><span class="pun">)</span> <span class="kwd">bool</span> <span class="pun">{</span>
	<span class="kwd">return</span> <span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/i">i</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ">Start</span> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/j">j</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ">Start</span><span class="pun">)</span> <span class="pun">|</span><span class="pun">|</span> <span class="pun">(</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/i">i</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ">Start</span> <span class="pun">=</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/j">j</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ">Start</span><span class="pun">)</span> <span class="pun">&amp;</span><span class="pun">&amp;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/i">i</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ">End</span> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/a">a</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/annotations/Less/j">j</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ">End</span><span class="pun">)</span>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator">htmlAnnotator</span></a> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">HTMLConfig</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
class is copied from sourcegraph.com/sourcegraph/annotate, because
it isn&#39;t exported in that package..
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator">htmlAnnotator</span></a><span class="pun">)</span> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class">class</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/kind"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/kind">kind</span></a> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Kind</span><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
	<span class="kwd">switch</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/kind">kind</span></a> <span class="pun">{</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">String</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">String</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Keyword</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">Keyword</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Comment</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">Comment</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Type</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">Type</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Literal</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">Literal</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Punctuation</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">Punctuation</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Plaintext</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">Plaintext</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Tag</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">Tag</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">HTMLTag</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">HTMLTag</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">HTMLAttrName</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">HTMLAttrName</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">HTMLAttrValue</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">HTMLAttrValue</span>
	<span class="kwd">case</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Decimal</span><span class="pun">:</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class/c">c</span></a><span class="pun">.</span><span class="typ">Decimal</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="str">&#34;&#34;</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Annotate is also copied from sourcegraph.com/sourcegraph/annotate
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/a"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/a">a</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator">htmlAnnotator</span></a><span class="pun">)</span> <span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate">Annotate</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/start"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/start">start</span></a> <span class="kwd">int</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/kind"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/kind">kind</span></a> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Kind</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/tokText"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/tokText">tokText</span></a> <span class="pln">string</span><span class="pun">)</span> <span class="pun">(</span><span class="pun">*</span><span class="pln">annotate</span><span class="pun">.</span><span class="typ">Annotation</span><span class="pun">,</span> <span class="pln">error</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/class"></span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/class">class</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/a">a</span></a><span class="pun">.</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/class">class</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/kind">kind</span></a><span class="pun">)</span>
	<span class="kwd">if</span> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/class">class</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="str">&#34;&#34;</span> <span class="pun">{</span>
		<span class="kwd">return</span> <span class="kwd">nil</span><span class="pun">,</span> <span class="kwd">nil</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pun">&amp;</span><span class="pln">annotate</span><span class="pun">.</span><span class="typ">Annotation</span><span class="pun">{</span>
		<span class="typ">Start</span><span class="pun">:</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/start">start</span></a><span class="pun">,</span>
		<span class="typ">End</span><span class="pun">:</span>   <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/start">start</span></a> <span class="pun">+</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/tokText">tokText</span></a><span class="pun">)</span><span class="pun">,</span>
		<span class="typ">Left</span><span class="pun">:</span>  <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator/Annotate/class">class</span></a><span class="pun">)</span><span class="pun">,</span>
		<span class="typ">Right</span><span class="pun">:</span> <span class="kwd">nil</span><span class="pun">,</span>
	<span class="pun">}</span><span class="pun">,</span> <span class="kwd">nil</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
resourcePrefix takes a file path and gives you the number of
&#34;../&#34;&#39;s needed to get to the &#34;root&#34; of that file. It&#39;s used so that
we don&#39;t need to know the explicit root of our generated docs.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix">resourcePrefix</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/file"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/file">file</span></a> <span class="pln">string</span><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/file">file</span></a> <span class="pun">=</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Clean</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/file">file</span></a><span class="pun">)</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/count"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/count">count</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">strings</span><span class="pun">.</span><span class="typ">Count</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/file">file</span></a><span class="pun">,</span> <span class="str">&#34;/&#34;</span><span class="pun">)</span>
	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/prefix"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/prefix">prefix</span></a> <span class="pln">string</span>
	<span class="kwd">for</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/$srcco0/i"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/$srcco0/i">i</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="dec">0</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/$srcco0/i">i</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/count">count</span></a><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/$srcco0/i">i</span></a><span class="pun">+</span><span class="pun">+</span> <span class="pun">{</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/prefix">prefix</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="str">&#34;../&#34;</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix/prefix">prefix</span></a>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
htmlFilename takes a file, prepends a resource prefix to it and
appends &#34;.html&#34;.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename">htmlFilename</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename/filename"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename/filename">filename</span></a> <span class="pln">string</span><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
	<span class="kwd">return</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/resourcePrefix">resourcePrefix</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename/filename">filename</span></a><span class="pun">)</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename/filename">filename</span></a><span class="pun">+</span><span class="str">&#34;.html&#34;</span><span class="pun">)</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
ann is a function that takes a source file, a set of refs for that
source file, the file name, and a map of all the defs in the
repository, and creates a set of annotations that can be applied to
the source file.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/d"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann">ann</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/src"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/src">src</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refs">refs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref">ref</span></a><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/filename"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/filename">filename</span></a> <span class="pln">string</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/defs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/defs">defs</span></a> <span class="kwd">map</span><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey">defKey</span></a><span class="pun">]</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">)</span> <span class="pun">(</span><span class="pun">[</span><span class="pun">]</span><span class="pln">annotate</span><span class="pun">.</span><span class="typ">Annotation</span><span class="pun">,</span> <span class="pln">error</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog">vLog</span></a><span class="pun">(</span><span class="str">&#34;Annotating&#34;</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/filename">filename</span></a><span class="pun">)</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Run the source code through a generic code syntax
highlighter to identify language units (vars, functions,
etc) and give them classes.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/annotations"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/annotations">annotations</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">Annotate</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/src">src</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlAnnotator">htmlAnnotator</span></a><span class="pun">(</span><span class="pln">syntaxhighlight</span><span class="pun">.</span><span class="typ">DefaultHTMLConfig</span><span class="pun">)</span><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="kwd">return</span> <span class="kwd">nil</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/err">err</span></a>
	<span class="pun">}</span>
	<span class="pln">sort</span><span class="pun">.</span><span class="typ">Sort</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/annotations">annotations</span></a><span class="pun">)</span>

	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
refAt is a helper function that tells us the ref at a
certain point.
</p>
</div>
        <div class="code">	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex">refAtIndex</span></a> <span class="kwd">int</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAt"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAt">refAt</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">func</span><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/start"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/start">start</span></a> <span class="pln">uint32</span><span class="pun">)</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/r"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/r">r</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref">ref</span></a><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/found"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/found">found</span></a> <span class="kwd">bool</span><span class="pun">)</span> <span class="pun">{</span>
		<span class="kwd">for</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex">refAtIndex</span></a> <span class="pun">&lt;</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refs">refs</span></a><span class="pun">)</span> <span class="pun">{</span>
			<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refs">refs</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex">refAtIndex</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/Start">Start</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/start">start</span></a> <span class="pun">{</span>
				<span class="pln">defer</span> <span class="kwd">func</span><span class="pun">(</span><span class="pun">)</span> <span class="pun">{</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex">refAtIndex</span></a><span class="pun">+</span><span class="pun">+</span> <span class="pun">}</span><span class="pun">(</span><span class="pun">)</span>
				<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refs">refs</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex">refAtIndex</span></a><span class="pun">]</span><span class="pun">,</span> <span class="kwd">true</span>
			<span class="pun">}</span> <span class="kwd">else</span> <span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refs">refs</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex">refAtIndex</span></a><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/Start">Start</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco1/start">start</span></a> <span class="pun">{</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAtIndex">refAtIndex</span></a><span class="pun">+</span><span class="pun">+</span>
			<span class="pun">}</span> <span class="kwd">else</span> <span class="pun">{</span> </div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
refs[refAtIndex].Start &gt; start
</p>
</div>
        <div class="code">				<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref">ref</span></a><span class="pun">{</span><span class="pun">}</span><span class="pun">,</span> <span class="kwd">false</span>
			<span class="pun">}</span>
		<span class="pun">}</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref">ref</span></a><span class="pun">{</span><span class="pun">}</span><span class="pun">,</span> <span class="kwd">false</span>
	<span class="pun">}</span>

	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Now we go through all of the annotations, and we add links
to annotations that are sitting on top of refs, and that we
have definitions for in our def map.
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">make</span><span class="pun">(</span><span class="pun">[</span><span class="pun">]</span><span class="pln">annotate</span><span class="pun">.</span><span class="typ">Annotation</span><span class="pun">,</span> <span class="dec">0</span><span class="pun">,</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/annotations">annotations</span></a><span class="pun">)</span><span class="pun">)</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/annotations">annotations</span></a> <span class="pun">{</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/found"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/found">found</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/refAt">refAt</span></a><span class="pun">(</span><span class="pln">uint32</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Start</span><span class="pun">)</span><span class="pun">)</span>
		<span class="kwd">if</span> <span class="pun">!</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/found">found</span></a> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Left</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="str">`&lt;span class=&#34;%s&#34;&gt;`</span><span class="pun">,</span> <span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Left</span><span class="pun">)</span><span class="pun">)</span><span class="pun">)</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Right</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="str">`&lt;/span&gt;`</span><span class="pun">)</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</span></a><span class="pun">,</span> <span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">)</span>
			<span class="kwd">continue</span>
		<span class="pun">}</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/d"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/ok"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/d">d</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/ok">ok</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/defs">defs</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey">defKey</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnit">DefUnit</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefPath">DefPath</span></a><span class="pun">}</span><span class="pun">]</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/ok">ok</span></a> <span class="pun">{</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/$srcco0/id"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/$srcco0/id">id</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Unit">Unit</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Path">Path</span></a><span class="pun">)</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/$srcco0/href"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/$srcco0/href">href</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename">htmlFilename</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/File">File</span></a><span class="pun">)</span> <span class="pun">+</span> <span class="str">&#34;#&#34;</span> <span class="pun">+</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/$srcco0/id">id</span></a>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Left</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span>
				<span class="str">`&lt;span class=&#34;%s&#34;&gt;&lt;a href=&#34;%s&#34;&gt;`</span><span class="pun">,</span>
				<span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Left</span><span class="pun">)</span><span class="pun">,</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/$srcco1/$srcco0/href">href</span></a><span class="pun">,</span>
			<span class="pun">)</span><span class="pun">)</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Right</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="str">`&lt;/span&gt;&lt;/a&gt;`</span><span class="pun">)</span>
		<span class="pun">}</span> <span class="kwd">else</span> <span class="pun">{</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
TODO: move api to new backend (which obsoletes &#39;r.DefRepo != &#34;&#34;&#39;)
</p>
</div>
        <div class="code">			<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/enableSourcegraphLinksOpt">enableSourcegraphLinksOpt</span></a> <span class="pun">&amp;</span><span class="pun">&amp;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefRepo">DefRepo</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="str">&#34;&#34;</span> <span class="pun">{</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Left</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="str">`&lt;span class=&#34;%s&#34;&gt;&lt;a href=&#34;%s&#34;&gt;`</span><span class="pun">,</span>
					<span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Left</span><span class="pun">)</span><span class="pun">,</span>
					<span class="str">&#34;https://&#34;</span><span class="pun">+</span><span class="pln">path</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span>
						<span class="str">&#34;sourcegraph.com&#34;</span><span class="pun">,</span>
						<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefRepo">DefRepo</span></a><span class="pun">,</span>
						<span class="str">&#34;.&#34;</span><span class="pun">+</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnitType">DefUnitType</span></a><span class="pun">,</span>
						<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefUnit">DefUnit</span></a><span class="pun">,</span>
						<span class="str">&#34;.def&#34;</span><span class="pun">,</span>
						<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/$srcco0/r">r</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ref/DefPath">DefPath</span></a><span class="pun">,</span>
					<span class="pun">)</span><span class="pun">)</span><span class="pun">)</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Right</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="str">`&lt;/a&gt;&lt;/span&gt;`</span><span class="pun">)</span>
			<span class="pun">}</span> <span class="kwd">else</span> <span class="pun">{</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Left</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="str">`&lt;span class=&#34;%s&#34;&gt;`</span><span class="pun">,</span> <span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Left</span><span class="pun">)</span><span class="pun">)</span><span class="pun">)</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">.</span><span class="typ">Right</span> <span class="pun">=</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="str">`&lt;/span&gt;`</span><span class="pun">)</span>
			<span class="pun">}</span>
		<span class="pun">}</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</span></a><span class="pun">,</span> <span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco2/a">a</span></a><span class="pun">)</span>
	<span class="pun">}</span>

	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Now we go through all of the defs and mark them up with
&#34;invisible&#34; anchor tags which only have an id associated
with them so that we can jump to them.
</p>
</div>
        <div class="code">	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/d">d</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/defs">defs</span></a> <span class="pun">{</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/File">File</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/filename">filename</span></a> <span class="pun">{</span>
			<span class="kwd">continue</span>
		<span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/$srcco0/a"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/$srcco0/a">a</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">annotate</span><span class="pun">.</span><span class="typ">Annotation</span><span class="pun">{</span>
			<span class="typ">Left</span><span class="pun">:</span>  <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="str">`&lt;span class=&#34;def&#34; id=&#34;%s&#34;&gt;`</span><span class="pun">,</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Unit">Unit</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Path">Path</span></a><span class="pun">)</span><span class="pun">)</span><span class="pun">)</span><span class="pun">,</span>
			<span class="typ">Right</span><span class="pun">:</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">(</span><span class="str">&#34;&lt;/span&gt;&#34;</span><span class="pun">)</span><span class="pun">,</span>
			<span class="typ">Start</span><span class="pun">:</span> <span class="kwd">int</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/DefStart">DefStart</span></a><span class="pun">)</span><span class="pun">,</span>
			<span class="typ">End</span><span class="pun">:</span>   <span class="kwd">int</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/DefStart">DefStart</span></a><span class="pun">)</span><span class="pun">,</span>
		<span class="pun">}</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/$srcco3/$srcco0/a">a</span></a><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/ann/anns">anns</span></a><span class="pun">,</span> <span class="kwd">nil</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
A segment represents a row in the final output.
</p>
</div>
        <div class="code"><span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/segment"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment">segment</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/segment/DocHTML"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/DocHTML">DocHTML</span></a>  <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/segment/CodeHTML"></span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/CodeHTML">CodeHTML</span></a> <span class="pln">string</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
createSegments takes the source code, all of the annotations, and
the docs, and it interleaves them into segments, where docs only
appear in the DocHTML bits, and code in the CodeHTML parts. anns
and docs must be sorted.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments">createSegments</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd">byte</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln">annotate</span><span class="pun">.</span><span class="typ">Annotation</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc">doc</span></a><span class="pun">)</span> <span class="pun">(</span><span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment">segment</span></a><span class="pun">,</span> <span class="pln">error</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/vLog">vLog</span></a><span class="pun">(</span><span class="str">&#34;Creating segments&#34;</span><span class="pun">)</span>
	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/segments"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/segments">segments</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment">segment</span></a>
	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment">segment</span></a>
	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/lineComment"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/lineComment">lineComment</span></a> <span class="kwd">bool</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
addSegment is a wrapper function for appending a new
segment and creating a new one at &#39;s&#39;. It may be an abuse
of closures :)
</p>
</div>
        <div class="code">	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/addSegment"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/addSegment">addSegment</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">func</span><span class="pun">(</span><span class="pun">)</span> <span class="pun">{</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/segments">segments</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/segments">segments</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</span></a><span class="pun">)</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment">segment</span></a><span class="pun">{</span><span class="pun">}</span>
	<span class="pun">}</span>
	<span class="kwd">for</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="dec">0</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">&lt;</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">)</span><span class="pun">;</span> <span class="pun">{</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
If we&#39;re on a doc, add it to DocHTML and advance i
to the end of the doc.
</p>
</div>
        <div class="code">		<span class="kwd">for</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">)</span> <span class="pun">!</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">&amp;</span><span class="pun">&amp;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="pln">uint32</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a><span class="pun">)</span> <span class="pun">{</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
This is a bit tricky, but if lineComment is
true, that means we&#39;ve already added that
doc to DocHTML, so we shouldn&#39;t add it again.
</p>
</div>
        <div class="code">			<span class="kwd">if</span> <span class="pun">!</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/lineComment">lineComment</span></a> <span class="pun">{</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/DocHTML">DocHTML</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Data">Data</span></a>
			<span class="pun">}</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
After ignoring the first line
comment, we are no longer in a line
comment (because they expand to the
rest of the line).
</p>
</div>
        <div class="code">			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">=</span> <span class="kwd">int</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/End">End</span></a><span class="pun">)</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">[</span><span class="dec">1</span><span class="pun">:</span><span class="pun">]</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Now, we need to determine how long the CodeHTML
block should be. It will extend to either the
beginning of the next comment or the end of the
document, whichever comes sooner.
</p>
</div>
        <div class="code">		<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a> <span class="kwd">int</span>
		<span class="kwd">if</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">)</span> <span class="pun">!</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a> <span class="pun">=</span> <span class="kwd">int</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Start">Start</span></a><span class="pun">)</span>
		<span class="pun">}</span> <span class="kwd">else</span> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a> <span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">)</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Throw away annotations that overlapped with the
docs we just added.
</p>
</div>
        <div class="code">		<span class="kwd">for</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a><span class="pun">)</span> <span class="pun">!</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">&amp;</span><span class="pun">&amp;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">&gt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">.</span><span class="typ">Start</span> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a><span class="pun">[</span><span class="dec">1</span><span class="pun">:</span><span class="pun">]</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Skip any newlines (in reality, we should be
skipping any lines that are *all* whitespace, but
that requires backtracking or looking forward,
which I didn&#39;t want to put in v0.1.)
</p>
</div>
        <div class="code">		<span class="kwd">for</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">&lt;</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">)</span> <span class="pun">&amp;</span><span class="pun">&amp;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a><span class="pun">]</span> <span class="pun">=</span><span class="pun">=</span> <span class="str">&#39;\n&#39;</span> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a><span class="pun">+</span><span class="pun">+</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Special case: check to see if there&#39;s a newline
between i and runTo. If there isn&#39;t, that means
there&#39;s a line comment on the next line, and it
should begin a new section.
</p>
</div>
        <div class="code">		<span class="kwd">if</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">)</span> <span class="pun">!</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/lineComment">lineComment</span></a> <span class="pun">=</span> <span class="kwd">true</span>
			<span class="kwd">for</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco4/$srcco0/$srcco0/j"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco4/$srcco0/$srcco0/j">j</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco4/$srcco0/$srcco0/j">j</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco4/$srcco0/$srcco0/j">j</span></a><span class="pun">+</span><span class="pun">+</span> <span class="pun">{</span>
				<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco4/$srcco0/$srcco0/j">j</span></a><span class="pun">]</span> <span class="pun">=</span><span class="pun">=</span> <span class="str">&#39;\n&#39;</span> <span class="pun">{</span>
					<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/lineComment">lineComment</span></a> <span class="pun">=</span> <span class="kwd">false</span>
					<span class="kwd">break</span>
				<span class="pun">}</span>
			<span class="pun">}</span>
			<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/lineComment">lineComment</span></a> <span class="pun">{</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/addSegment">addSegment</span></a><span class="pun">(</span><span class="pun">)</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/DocHTML">DocHTML</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/docs">docs</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/doc/Data">Data</span></a>
			<span class="pun">}</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
In this loop, we add all of the annotations to the
CodeHTML part of our segment.
</p>
</div>
        <div class="code">		<span class="kwd">for</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a> <span class="pun">{</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
If there are no annotations left, we can
short-circuit this process by stuffing the
rest of the source code into the CodeHTML
block.
</p>
</div>
        <div class="code">			<span class="kwd">if</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a><span class="pun">)</span> <span class="pun">=</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/CodeHTML">CodeHTML</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="kwd">template</span><span class="pun">.</span><span class="typ">HTMLEscapeString</span><span class="pun">(</span><span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a><span class="pun">:</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a><span class="pun">]</span><span class="pun">)</span><span class="pun">)</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a>
				<span class="kwd">break</span>
			<span class="pun">}</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We work on one annotation at a time.
</p>
</div>
        <div class="code">			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Add all the space between i and a.Start to the CodeHTML block
</p>
</div>
        <div class="code">			<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">&lt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">Start</span> <span class="pun">{</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/CodeHTML">CodeHTML</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="kwd">template</span><span class="pun">.</span><span class="typ">HTMLEscapeString</span><span class="pun">(</span><span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a><span class="pun">:</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">Start</span><span class="pun">]</span><span class="pun">)</span><span class="pun">)</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">Start</span>
				</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We continue so that the &#39;i &lt; runTo&#39;
check happens again, because we may
have reached runTo.
</p>
</div>
        <div class="code">				<span class="kwd">continue</span>
			<span class="pun">}</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
If the annotation extends past the end of
our run, the state of our program is messed
up (usually means the srclib-cache hasn&#39;t
been refreshed.)
</p>
</div>
        <div class="code">			<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">End</span> <span class="pun">&gt;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a> <span class="pun">{</span>
				<span class="pln">log</span><span class="pun">.</span><span class="typ">Println</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">,</span> <span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">Start</span><span class="pun">:</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">End</span><span class="pun">]</span><span class="pun">)</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/runTo">runTo</span></a><span class="pun">)</span>
				<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;createSegment: illegal state: a.End &gt; runTo&#34;</span><span class="pun">)</span>
			<span class="pun">}</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Now we add the annotation in full to the CodeHTML block.
</p>
</div>
        <div class="code">			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/s">s</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/segment/CodeHTML">CodeHTML</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">Left</span><span class="pun">)</span> <span class="pun">+</span>
				<span class="kwd">template</span><span class="pun">.</span><span class="typ">HTMLEscapeString</span><span class="pun">(</span><span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/src">src</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">Start</span><span class="pun">:</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">End</span><span class="pun">]</span><span class="pun">)</span><span class="pun">)</span> <span class="pun">+</span>
				<span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">Right</span><span class="pun">)</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Advance i and anns.
</p>
</div>
        <div class="code">			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/i">i</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/$srcco1/$srcco0/$srcco5/$srcco0/a">a</span></a><span class="pun">.</span><span class="typ">End</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a> <span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/anns">anns</span></a><span class="pun">[</span><span class="dec">1</span><span class="pun">:</span><span class="pun">]</span>
		<span class="pun">}</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
At the end of our loop, we add a segment.
</p>
</div>
        <div class="code">		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/addSegment">addSegment</span></a><span class="pun">(</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createSegments/segments">segments</span></a><span class="pun">,</span> <span class="kwd">nil</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
And that&#39;s it! We set up the flags and start the program in our
main function.
</p>
</div>
        <div class="code"><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/main"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main">main</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="pln">log</span><span class="pun">.</span><span class="typ">SetFlags</span><span class="pun">(</span><span class="pln">log</span><span class="pun">.</span><span class="typ">Lshortfile</span><span class="pun">)</span>
	<span class="pln">flag</span><span class="pun">.</span><span class="typ">Parse</span><span class="pun">(</span><span class="pun">)</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/main/args"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/args">args</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">flag</span><span class="pun">.</span><span class="typ">Args</span><span class="pun">(</span><span class="pun">)</span>
	<span class="kwd">if</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/args">args</span></a><span class="pun">)</span> <span class="pun">=</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;error: must provide a root directory\n&#34;</span><span class="pun">)</span>
		<span class="pln">flag</span><span class="pun">.</span><span class="typ">Usage</span><span class="pun">(</span><span class="pun">)</span>
	<span class="pun">}</span> <span class="kwd">else</span> <span class="kwd">if</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/args">args</span></a><span class="pun">)</span> <span class="pun">&gt;</span> <span class="dec">1</span> <span class="pun">{</span>
		<span class="pln">fmt</span><span class="pun">.</span><span class="typ">Fprintf</span><span class="pun">(</span><span class="pln">os</span><span class="pun">.</span><span class="typ">Stderr</span><span class="pun">,</span> <span class="str">&#34;error: too many args\n&#34;</span><span class="pun">)</span>
		<span class="pln">flag</span><span class="pun">.</span><span class="typ">Usage</span><span class="pun">(</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/main/$srcco1/err"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/$srcco1/err">err</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/execute">execute</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/args">args</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">)</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/$srcco1/err">err</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Println</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/main/$srcco1/err">err</span></a><span class="pun">)</span>
		<span class="pln">os</span><span class="pun">.</span><span class="typ">Exit</span><span class="pun">(</span><span class="dec">1</span><span class="pun">)</span>
	<span class="pun">}</span>
<span class="pun">}</span>

</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Everything below is my work in progress table of contents stuff,
some of which you saw above. I think it&#39;s pretty interesting, but
it&#39;s loosely commented for now. If you want to help out, email the
author of srcco :)
</p>
</div>
        <div class="code"><span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode">tocNode</span></a> <span class="kwd">struct</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/name"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/name">name</span></a>    <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/data"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/data">data</span></a>    <span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/nodes"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/nodes">nodes</span></a>   <span class="pun">[</span><span class="pun">]</span><span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode">tocNode</span></a>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/pathers"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/pathers">pathers</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/pather"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a> <span class="kwd">interface</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/pather/path"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather/path">path</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pln">string</span>
<span class="pun">}</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/$srcco0/d"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter">defsTOCFilter</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/defs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/defs">defs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">)</span> <span class="pun">[</span><span class="pun">]</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/f"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/f">f</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/defs">defs</span></a><span class="pun">[</span><span class="pun">:</span><span class="dec">0</span><span class="pun">]</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/m"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/m">m</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">map</span><span class="pun">[</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">]</span><span class="kwd">bool</span><span class="pun">{</span><span class="pun">}</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/$srcco0/d">d</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/defs">defs</span></a> <span class="pun">{</span>
		<span class="kwd">if</span> <span class="pun">!</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/m">m</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/$srcco0/d">d</span></a><span class="pun">]</span> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/m">m</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/$srcco0/d">d</span></a><span class="pun">]</span> <span class="pun">=</span> <span class="kwd">true</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/$srcco0/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/TreePath">TreePath</span></a> <span class="pun">=</span> <span class="pln">strings</span><span class="pun">.</span><span class="typ">TrimPrefix</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/$srcco0/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/TreePath">TreePath</span></a><span class="pun">,</span> <span class="str">&#34;./&#34;</span><span class="pun">)</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/f">f</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/f">f</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/$srcco0/d">d</span></a><span class="pun">)</span>
		<span class="pun">}</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsTOCFilter/f">f</span></a>
<span class="pun">}</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/$srcco0/d"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers">defsWrapPathers</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/defs"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/defs">defs</span></a> <span class="pun">[</span><span class="pun">]</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">)</span> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/ps"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/ps">ps</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">make</span><span class="pun">(</span><span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a><span class="pun">,</span> <span class="dec">0</span><span class="pun">,</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/defs">defs</span></a><span class="pun">)</span><span class="pun">)</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/$srcco0/d">d</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/defs">defs</span></a> <span class="pun">{</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/ps">ps</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/ps">ps</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/$srcco0/d">d</span></a><span class="pun">)</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defsWrapPathers/ps">ps</span></a>
<span class="pun">}</span>

<span class="kwd">type</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/file"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file">file</span></a> <span class="pln">string</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/file/path"></span><span class="kwd">func</span> <span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/file/path/f"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file/path/f">f</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file">file</span></a><span class="pun">)</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file/path">path</span></a><span class="pun">(</span><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span> <span class="kwd">return</span> <span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file/path/f">f</span></a><span class="pun">)</span> <span class="pun">}</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/$srcco0/f"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers">filesWrapPathers</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/files"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/files">files</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">)</span> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/ps"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/ps">ps</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">make</span><span class="pun">(</span><span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a><span class="pun">,</span> <span class="dec">0</span><span class="pun">,</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/files">files</span></a><span class="pun">)</span><span class="pun">)</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/$srcco0/f">f</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/files">files</span></a> <span class="pun">{</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/ps">ps</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/ps">ps</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file">file</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/$srcco0/f">f</span></a><span class="pun">)</span><span class="pun">)</span><span class="pun">)</span>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/filesWrapPathers/ps">ps</span></a>
<span class="pun">}</span>

<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/i"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/pather"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/pather"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/name"></span><span class="kwd">func</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents">createTableOfContents</span></a><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/pathers"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/pathers">pathers</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">map</span><span class="pun">[</span><span class="pln">string</span><span class="pun">]</span><span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode">tocNode</span></a><span class="pun">{</span><span class="pun">}</span>
	<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="str">&#34;&#34;</span><span class="pun">]</span> <span class="pun">=</span> <span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode">tocNode</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/name">name</span></a><span class="pun">:</span> <span class="str">&#34;/&#34;</span><span class="pun">}</span>
	<span class="kwd">if</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/pathers">pathers</span></a><span class="pun">)</span> <span class="pun">=</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
		<span class="kwd">return</span> <span class="str">&#34;&#34;</span>
	<span class="pun">}</span>
	<span class="kwd">switch</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/pathers">pathers</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">.</span><span class="pun">(</span><span class="kwd">type</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="kwd">case</span> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">:</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="str">&#34;&#34;</span><span class="pun">]</span><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/name">name</span></a> <span class="pun">=</span> <span class="str">&#34;all defs&#34;</span>
	<span class="kwd">case</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file">file</span></a><span class="pun">:</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="str">&#34;&#34;</span><span class="pun">]</span><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/name">name</span></a> <span class="pun">=</span> <span class="str">&#34;all files&#34;</span>
	<span class="kwd">default</span><span class="pun">:</span>
		<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;createTableOfContents: illegal state: unknown type for pathers[0]&#34;</span><span class="pun">)</span>
	<span class="pun">}</span>

	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/getParent"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/getParent">getParent</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="kwd">func</span><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/i"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/i">i</span></a> <span class="kwd">int</span><span class="pun">,</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parts"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parts">parts</span></a> <span class="pun">[</span><span class="pun">]</span><span class="pln">string</span><span class="pun">)</span> <span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode">tocNode</span></a> <span class="pun">{</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/i">i</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="dec">0</span> <span class="pun">{</span>
			<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="str">&#34;&#34;</span><span class="pun">]</span>
		<span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parent"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parent">parent</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="pln">strings</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parts">parts</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">:</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/i">i</span></a><span class="pun">]</span><span class="pun">,</span> <span class="str">&#34;/&#34;</span><span class="pun">)</span><span class="pun">]</span>
		<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parent">parent</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;createTOC: illegal state: parent == nil&#34;</span><span class="pun">)</span>
		<span class="pun">}</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco2/parent">parent</span></a>
	<span class="pun">}</span>
	</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
We&#39;ve created the head node and added it to our map. Now,
we need to go through all of the pathers and add them to the
correct node. To do this, we get the &#34;name&#34; for each
section of the tree path. For instance, for the tree path
&#34;a/b/c/d&#34;, the nodes associated with it are &#34;a&#34;, &#34;a/b&#34;, and
&#34;a/b/c&#34;, and the pather, &#34;d&#34;, should be added to &#34;a/b/c&#34;.
</p>
</div>
        <div class="code">	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/pather">pather</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/pathers">pathers</span></a> <span class="pun">{</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
First, we split the path into parts separated by
&#34;/&#34;.
</p>
</div>
        <div class="code">		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/parts"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/parts">parts</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">strings</span><span class="pun">.</span><span class="typ">Split</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/pather">pather</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather/path">path</span></a><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="str">&#34;/&#34;</span><span class="pun">)</span>
		</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
Now we walk through the parts.
</p>
</div>
        <div class="code">		<span class="kwd">for</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/name">name</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/parts">parts</span></a> <span class="pun">{</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
If &#34;i&#34; is the last index of &#34;parts&#34;, that
means it represents the pather. We&#39;re
ignoring pathers for now.
</p>
</div>
        <div class="code">			<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/i">i</span></a> <span class="pun">=</span><span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/parts">parts</span></a><span class="pun">)</span><span class="pun">-</span><span class="dec">1</span> <span class="pun">{</span>
				<span class="kwd">break</span>
			<span class="pun">}</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
&#34;i&#34; is not the last index of &#34;parts&#34;, which
means that it is a node. First, we check to
see if it exists.
</p>
</div>
        <div class="code">			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/path"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/path">path</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">strings</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/parts">parts</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">:</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/i">i</span></a><span class="pun">+</span><span class="dec">1</span><span class="pun">]</span><span class="pun">,</span> <span class="str">&#34;/&#34;</span><span class="pun">)</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
If &#34;n&#34; is non-nil, then the node has
already been created.
</p>
</div>
        <div class="code">			<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/$srcco1/n"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/$srcco1/n">n</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/path">path</span></a><span class="pun">]</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/$srcco1/n">n</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
				<span class="kwd">continue</span>
			<span class="pun">}</span>
			</div>
      </div>
      
      <div class="row">
        <div class="doc"><p>
The node does not exist. First we add it to
the nodes map, and then we add it to its
parent.
</p>
</div>
        <div class="code">			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/path">path</span></a><span class="pun">]</span> <span class="pun">=</span> <span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode">tocNode</span></a><span class="pun">{</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/name">name</span></a><span class="pun">:</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/name">name</span></a><span class="pun">}</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/parent"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/parent">parent</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/getParent">getParent</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/i">i</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/parts">parts</span></a><span class="pun">)</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/parent">parent</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/nodes">nodes</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/parent">parent</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/nodes">nodes</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco3/$srcco0/$srcco0/$srcco0/path">path</span></a><span class="pun">]</span><span class="pun">)</span>
		<span class="pun">}</span>
	<span class="pun">}</span>
	<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/pather">pather</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/pathers">pathers</span></a> <span class="pun">{</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/n"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/ok"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/n">n</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/ok">ok</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/pather">pather</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather/path">path</span></a><span class="pun">(</span><span class="pun">)</span><span class="pun">]</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/ok">ok</span></a> <span class="pun">{</span>
			<span class="kwd">if</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/n">n</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/data">data</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
				<span class="pln">log</span><span class="pun">.</span><span class="typ">Fatal</span><span class="pun">(</span><span class="str">&#34;createTableOfContents: illegal state: n.data != nil&#34;</span><span class="pun">)</span>
			<span class="pun">}</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/$srcco0/p"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/$srcco0/p">p</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/pather">pather</span></a>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/n">n</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/data">data</span></a> <span class="pun">=</span> <span class="pun">&amp;</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco0/$srcco0/p">p</span></a>
			<span class="kwd">continue</span>
		<span class="pun">}</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/parts"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/parts">parts</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">strings</span><span class="pun">.</span><span class="typ">Split</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/pather">pather</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather/path">path</span></a><span class="pun">(</span><span class="pun">)</span><span class="pun">,</span> <span class="str">&#34;/&#34;</span><span class="pun">)</span>
		<span class="kwd">for</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/i"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/i">i</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">len</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/parts">parts</span></a><span class="pun">)</span> <span class="pun">-</span> <span class="dec">1</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/i">i</span></a> <span class="pun">&gt;</span><span class="pun">=</span> <span class="dec">0</span><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/i">i</span></a><span class="pun">-</span><span class="pun">-</span> <span class="pun">{</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/ok"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/n"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/n">n</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/ok">ok</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="pln">strings</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/parts">parts</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">:</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/i">i</span></a><span class="pun">]</span><span class="pun">,</span> <span class="str">&#34;/&#34;</span><span class="pun">)</span><span class="pun">]</span>
			<span class="kwd">if</span> <span class="pun">!</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/ok">ok</span></a> <span class="pun">{</span>
				<span class="kwd">continue</span>
			<span class="pun">}</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/n">n</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/pathers">pathers</span></a> <span class="pun">=</span> <span class="kwd">append</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/$srcco0/$srcco1/$srcco0/n">n</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/pathers">pathers</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco4/pather">pather</span></a><span class="pun">)</span>
			<span class="kwd">break</span>
		<span class="pun">}</span>
	<span class="pun">}</span>
	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/patherToHTML"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/patherToHTML">patherToHTML</span></a> <span class="kwd">func</span><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco5/p"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco5/p">p</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a><span class="pun">)</span> <span class="pln">string</span>
	<span class="kwd">switch</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/pathers">pathers</span></a><span class="pun">[</span><span class="dec">0</span><span class="pun">]</span><span class="pun">.</span><span class="pun">(</span><span class="kwd">type</span><span class="pun">)</span> <span class="pun">{</span>
	<span class="kwd">case</span> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">:</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/patherToHTML">patherToHTML</span></a> <span class="pun">=</span> <span class="kwd">func</span><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/p"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/p">p</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/d"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/d">d</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/p">p</span></a><span class="pun">.</span><span class="pun">(</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">)</span>
			<span class="kwd">return</span> <span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="str">`&lt;div class=&#34;node-path&#34;&gt;&lt;a class=&#34;def&#34; href=&#34;%s&#34;&gt;%s&lt;/a&gt; - %s&lt;/div&gt;`</span><span class="pun">,</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename">htmlFilename</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/File">File</span></a><span class="pun">)</span><span class="pun">+</span><span class="str">&#34;#&#34;</span><span class="pun">+</span><span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Unit">Unit</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Path">Path</span></a><span class="pun">)</span><span class="pun">,</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/Name">Name</span></a><span class="pun">,</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco0/$srcco0/d">d</span></a><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/Kind">Kind</span></a><span class="pun">,</span>
			<span class="pun">)</span>
		<span class="pun">}</span>
	<span class="kwd">case</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file">file</span></a><span class="pun">:</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/patherToHTML">patherToHTML</span></a> <span class="pun">=</span> <span class="kwd">func</span><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/p"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/p">p</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/pather">pather</span></a><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/f"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/f">f</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">string</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/p">p</span></a><span class="pun">.</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file">file</span></a><span class="pun">)</span><span class="pun">)</span>
			<span class="kwd">return</span> <span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="str">`&lt;div class=&#34;node-path&#34;&gt;&lt;a class=&#34;file&#34; href=&#34;%s&#34;&gt;%s&lt;/a&gt;&lt;/div&gt;`</span><span class="pun">,</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename">htmlFilename</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/f">f</span></a><span class="pun">)</span><span class="pun">,</span>
				<span class="pln">filepath</span><span class="pun">.</span><span class="typ">Base</span><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco6/$srcco1/$srcco0/f">f</span></a><span class="pun">)</span><span class="pun">,</span>
			<span class="pun">)</span>
		<span class="pun">}</span>
	<span class="pun">}</span>
	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeLevel"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeLevel">nodeLevel</span></a> <span class="kwd">int</span>
	<span class="kwd">var</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeToHTML"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeToHTML">nodeToHTML</span></a> <span class="kwd">func</span><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco7/n"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco7/n">n</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode">tocNode</span></a><span class="pun">)</span> <span class="pln">string</span>
	<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco2/p"></span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco1/c"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeToHTML">nodeToHTML</span></a> <span class="pun">=</span> <span class="kwd">func</span><span class="pun">(</span><span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/n"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/n">n</span></a> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode">tocNode</span></a><span class="pun">)</span> <span class="pln">string</span> <span class="pun">{</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/title"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/title">title</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="str">`&lt;div class=&#34;node&#34; level=%d&gt;&lt;div class=&#34;node-title&#34;&gt;&lt;i class=&#34;fa fa-angle-right carrot&#34;&gt;&lt;/i&gt; %s`</span><span class="pun">,</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeLevel">nodeLevel</span></a><span class="pun">,</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/n">n</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/name">name</span></a><span class="pun">,</span>
		<span class="pun">)</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeLevel">nodeLevel</span></a><span class="pun">+</span><span class="pun">+</span>
		<span class="kwd">if</span> <span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/pather"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/pather">pather</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/n">n</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/data">data</span></a><span class="pun">;</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/pather">pather</span></a> <span class="pun">!</span><span class="pun">=</span> <span class="kwd">nil</span> <span class="pun">{</span>
			<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/$srcco0/template"></span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/$srcco0/template">template</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="str">` &lt;a href=&#34;%s&#34;&gt;&lt;i class=&#34;fa fa-share-square-o&#34;&gt;&lt;/i&gt;&lt;/a&gt;`</span>
			<span class="kwd">switch</span> <span class="pln">p</span> <span class="pun">:</span><span class="pun">=</span> <span class="pun">(</span><span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/pather">pather</span></a><span class="pun">)</span><span class="pun">.</span><span class="pun">(</span><span class="kwd">type</span><span class="pun">)</span> <span class="pun">{</span>
			<span class="kwd">case</span> <span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def">def</span></a><span class="pun">:</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/title">title</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="str">&#34; - &#34;</span> <span class="pun">+</span> <span class="pln">p</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/Kind">Kind</span></a>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/title">title</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/$srcco0/template">template</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename">htmlFilename</span></a><span class="pun">(</span><span class="pln">p</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/def/File">File</span></a><span class="pun">)</span><span class="pun">+</span><span class="str">&#34;#&#34;</span><span class="pun">+</span><span class="pln">filepath</span><span class="pun">.</span><span class="typ">Join</span><span class="pun">(</span><span class="pln">p</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Unit">Unit</span></a><span class="pun">,</span> <span class="pln">p</span><span class="pun">.</span><span class="typ"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/defKey/Path">Path</span></a><span class="pun">)</span><span class="pun">)</span>
			<span class="kwd">case</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/file">file</span></a><span class="pun">:</span>
				<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/title">title</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="pln">fmt</span><span class="pun">.</span><span class="typ">Sprintf</span><span class="pun">(</span><span class="kwd"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco0/$srcco0/template">template</span></a><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/htmlFilename">htmlFilename</span></a><span class="pun">(</span><span class="pln">string</span><span class="pun">(</span><span class="pln">p</span><span class="pun">)</span><span class="pun">)</span><span class="pun">,</span> <span class="pln">filepath</span><span class="pun">.</span><span class="typ">Base</span><span class="pun">(</span><span class="pln">string</span><span class="pun">(</span><span class="pln">p</span><span class="pun">)</span><span class="pun">)</span><span class="pun">)</span>
			<span class="pun">}</span>
		<span class="pun">}</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/title">title</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="str">&#34;&lt;/div&gt;&#34;</span>
		<span class="def" id="sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/body"></span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/body">body</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="str">`&lt;div class=&#34;node-body&#34;&gt;`</span>
		<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco1/c">c</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/n">n</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/nodes">nodes</span></a> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/body">body</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeToHTML">nodeToHTML</span></a><span class="pun">(</span><span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco1/c">c</span></a><span class="pun">)</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeLevel">nodeLevel</span></a><span class="pun">-</span><span class="pun">-</span>
		<span class="pun">}</span>
		<span class="kwd">for</span> <span class="pln">_</span><span class="pun">,</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco2/p">p</span></a> <span class="pun">:</span><span class="pun">=</span> <span class="pln">range</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/n">n</span></a><span class="pun">.</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/tocNode/pathers">pathers</span></a> <span class="pun">{</span>
			<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/body">body</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/patherToHTML">patherToHTML</span></a><span class="pun">(</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/$srcco2/p">p</span></a><span class="pun">)</span>
		<span class="pun">}</span>
		<span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/body">body</span></a> <span class="pun">+</span><span class="pun">=</span> <span class="str">&#34;&lt;/div&gt;&lt;/div&gt;&#34;</span>
		<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/title">title</span></a> <span class="pun">+</span> <span class="str">&#34;\n&#34;</span> <span class="pun">+</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/$srcco8/body">body</span></a>
	<span class="pun">}</span>
	<span class="kwd">return</span> <span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodeToHTML">nodeToHTML</span></a><span class="pun">(</span><span class="pun">*</span><span class="pln"><a href="srcco.go.html#sourcegraph.com/sourcegraph/srcco/srcco.go/createTableOfContents/nodes">nodes</span></a><span class="pun">[</span><span class="str">&#34;&#34;</span><span class="pun">]</span><span class="pun">)</span>
<span class="pun">}</span>
</div>
      </div>
      
    </div>
  </body>
</html>
